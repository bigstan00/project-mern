+ SERVICE_NAME=backend
+ COMPOSE_FILE=/home/bigstan/mern-redo/docker-compose.yaml
+ MAX_INSTANCES=5
+ MIN_INSTANCES=1
+ CPU_THRESHOLD_UP=75
+ CPU_THRESHOLD_DOWN=30
+ LOG_FILE=/home/bigstan/mern-redo/backend/scale.log
+ LOG_INTERVAL=300
+ last_log_time=0
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954802
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954922
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955043
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955163
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955284
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955404
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955525
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955645
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955766
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955886
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956006
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956127
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956247
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956368
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956488
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954815
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954936
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955056
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955177
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955297
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955418
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955538
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955659
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955779
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955899
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956020
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956140
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956261
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956381
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956502
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954828
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954949
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ + docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955069
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955190
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955310
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955431
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955551
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955672
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955792
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ grep backend
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955912
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956033
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956153
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956274
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956394
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956514
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            + true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + wc -l
grep backend
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954842
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ + tee -a /home/bigstan/mern-redo/backend/scale.log
echo No scaling action needed for backend
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729954962
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955083
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955203
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ + tee -a /home/bigstan/mern-redo/backend/scale.logecho
 No scaling action needed for backend
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955324
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ + grep backend
wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955444
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955565
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955685
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955805
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729955926
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956046
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956166
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956287
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
+ true
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps
+ grep backend
+ wc -l
+ current_instances=0
+ get_cpu_usage
+ docker compose -f /home/bigstan/mern-redo/docker-compose.yaml ps -q backend
+ container_ids=
+ [ -z  ]
+ echo 0
+ return
+ cpu_usage=0
+ date +%s
+ current_time=1729956407
+ current_time - last_log_time LOG_INTERVAL
/home/bigstan/mern-redo/backend/scale.sh: 462: current_time: not found
+ [ 0 -gt 75 ]
+ [ 0 -lt 30 ]
+ [ 0 -gt 1 ]
+ echo No scaling action needed for backend
+ tee -a /home/bigstan/mern-redo/backend/scale.log
No scaling action needed for backend
+ sleep 120
