{"ast":null,"code":"var _jsxFileName = \"/home/bigstan/mern-redo/frontend/src/components/TodoItem.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport cross from \"../assets/images/icon-cross.svg\";\nimport check from \"../assets/images/icon-check.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TodoItem({\n  todo,\n  index,\n  moveTodo,\n  setData\n}) {\n  _s();\n  const ref = React.useRef(null);\n  const [, drag] = useDrag({\n    type: 'TODO',\n    item: {\n      index\n    }\n  });\n  const [, drop] = useDrop({\n    accept: 'TODO',\n    hover: draggedItem => {\n      if (draggedItem.index !== index) {\n        moveTodo(draggedItem.index, index);\n        draggedItem.index = index;\n      }\n    }\n  });\n  drag(drop(ref));\n  const deleteTodo = async id => {\n    try {\n      const apiUrl = process.env.REACT_APP_API_URL; // Use the API URL from the environment variable\n      let response = await axios.delete(`${apiUrl}/todo/${id}`);\n      if (response.data.status) {\n        setData(response.data.data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const completeTodo = async id => {\n    try {\n      const apiUrl = process.env.REACT_APP_API_URL; // Use the API URL from the environment variable\n      let response = await axios.put(`${apiUrl}/todo/${id}`);\n      if (response.data.status) {\n        setData(response.data.data);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    ref: ref,\n    className: \"list_todo--item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `complete ${todo.isCompleted ? 'todo--complete' : \"\"}`,\n        onClick: () => completeTodo(todo._id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text ${todo.isCompleted ? \"text--complete\" : ''}`,\n        children: todo.todo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close_icon\",\n      onClick: () => deleteTodo(todo._id),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: cross,\n        alt: \"close icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, todo._id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(TodoItem, \"X3CddqULbvfUG8W1f735mdMTt/4=\", false, function () {\n  return [useDrag, useDrop];\n});\n_c = TodoItem;\nexport default TodoItem;\nvar _c;\n$RefreshReg$(_c, \"TodoItem\");","map":{"version":3,"names":["axios","React","useDrag","useDrop","cross","check","jsxDEV","_jsxDEV","TodoItem","todo","index","moveTodo","setData","_s","ref","useRef","drag","type","item","drop","accept","hover","draggedItem","deleteTodo","id","apiUrl","process","env","REACT_APP_API_URL","response","delete","data","status","error","console","log","completeTodo","put","className","children","isCompleted","onClick","_id","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","_c","$RefreshReg$"],"sources":["/home/bigstan/mern-redo/frontend/src/components/TodoItem.jsx"],"sourcesContent":["import axios from 'axios';\nimport React from 'react'\nimport { useDrag, useDrop } from 'react-dnd';\nimport cross from \"../assets/images/icon-cross.svg\"\nimport check from \"../assets/images/icon-check.svg\"\n\nfunction TodoItem({ todo, index, moveTodo, setData }) {\n    const ref = React.useRef(null);\n\n    const [, drag] = useDrag({\n        type: 'TODO',\n        item: { index }\n    });\n\n    const [, drop] = useDrop({\n        accept: 'TODO',\n        hover: (draggedItem) => {\n            if (draggedItem.index !== index) {\n                moveTodo(draggedItem.index, index);\n                draggedItem.index = index;\n            }\n        },\n    });\n\n    drag(drop(ref));\n\n    const deleteTodo = async (id) => {\n        try {\n            const apiUrl = process.env.REACT_APP_API_URL; // Use the API URL from the environment variable\n            let response = await axios.delete(`${apiUrl}/todo/${id}`);\n            if(response.data.status){\n                setData(response.data.data);\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    const completeTodo = async (id) => {\n        try {\n            const apiUrl = process.env.REACT_APP_API_URL; // Use the API URL from the environment variable\n            let response = await axios.put(`${apiUrl}/todo/${id}`);\n            if(response.data.status){\n                setData(response.data.data);\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n  return (\n    <li ref={ref} key={todo._id} className=\"list_todo--item\">\n        <div className=\"todo__content\">\n            <div className={`complete ${todo.isCompleted ? 'todo--complete' : \"\"}`} onClick={() => completeTodo(todo._id)}></div>\n            <p className={`text ${todo.isCompleted ? \"text--complete\" : ''}`} >{todo.todo}</p>\n        </div>\n        <div className='close_icon' onClick={()=> deleteTodo(todo._id)}>\n            <img src={cross} alt=\"close icon\" />\n        </div>\n    </li>\n  )\n}\n\nexport default TodoItem\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}