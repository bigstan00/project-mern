{"ast":null,"code":"import axios from'axios';import React from'react';import{useDrag,useDrop}from'react-dnd';import cross from\"../assets/images/icon-cross.svg\";import check from\"../assets/images/icon-check.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TodoItem(_ref){let{todo,index,moveTodo,setData}=_ref;const ref=React.useRef(null);const[,drag]=useDrag({type:'TODO',item:{index}});const[,drop]=useDrop({accept:'TODO',hover:draggedItem=>{if(draggedItem.index!==index){moveTodo(draggedItem.index,index);draggedItem.index=index;}}});drag(drop(ref));const deleteTodo=async id=>{try{let response=await axios.delete(`http://localhost:3500/todo/${id}`);if(response.data.status){setData(response.data.data);}}catch(error){console.log(error);}};const completeTodo=async id=>{try{let response=await axios.put(`http://localhost:3500/todo/${id}`);if(response.data.status){setData(response.data.data);}}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"li\",{ref:ref,className:\"list_todo--item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"todo__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:`complete ${todo.isCompleted?'todo--complete':\"\"}`,onClick:()=>completeTodo(todo._id)}),/*#__PURE__*/_jsx(\"p\",{className:`text ${todo.isCompleted?\"text--complete\":''}`,children:todo.todo})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close_icon\",onClick:()=>deleteTodo(todo._id),children:/*#__PURE__*/_jsx(\"img\",{src:cross,alt:\"close icon\"})})]},todo._id);}export default TodoItem;","map":{"version":3,"names":["axios","React","useDrag","useDrop","cross","check","jsx","_jsx","jsxs","_jsxs","TodoItem","_ref","todo","index","moveTodo","setData","ref","useRef","drag","type","item","drop","accept","hover","draggedItem","deleteTodo","id","response","delete","data","status","error","console","log","completeTodo","put","className","children","isCompleted","onClick","_id","src","alt"],"sources":["/home/bigstan/mern-redo/frontend/src/components/TodoItem.jsx"],"sourcesContent":["import axios from 'axios';\nimport React from 'react'\nimport { useDrag, useDrop } from 'react-dnd';\nimport cross from \"../assets/images/icon-cross.svg\"\nimport check from \"../assets/images/icon-check.svg\"\n\nfunction TodoItem({ todo, index, moveTodo, setData }) {\n    const ref = React.useRef(null);\n\n    const [, drag] = useDrag({\n        type: 'TODO',\n        item: { index }\n    });\n\n    const [, drop] = useDrop({\n        accept: 'TODO',\n        hover: (draggedItem) => {\n            if (draggedItem.index !== index) {\n                moveTodo(draggedItem.index, index);\n                draggedItem.index = index;\n            }\n        },\n    });\n\n    drag(drop(ref));\n\n    const deleteTodo = async (id) => {\n        try {\n            let response = await axios.delete(`http://localhost:3500/todo/${id}`)\n            if(response.data.status){\n                setData(response.data.data)\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    const completeTodo = async (id) => {\n        try {\n            let response = await axios.put(`http://localhost:3500/todo/${id}`)\n            if(response.data.status){\n                setData(response.data.data)\n            }\n        } catch (error) {\n            console.error(error);\n            \n        }\n    }\n\n  return (\n    <li ref={ref} key={todo._id} className=\"list_todo--item\">\n        <div className=\"todo__content\">\n            <div className={`complete ${todo.isCompleted ? 'todo--complete' : \"\"}`} onClick={() => completeTodo(todo._id)}></div>\n            <p className={`text ${todo.isCompleted ? \"text--complete\" : ''}`} >{todo.todo}</p>\n        </div>\n        <div className='close_icon' onClick={()=> deleteTodo(todo._id)}>\n            <img src={cross} alt=\"close icon\" />\n        </div>\n    </li>\n  )\n}\n\nexport default TodoItem"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}